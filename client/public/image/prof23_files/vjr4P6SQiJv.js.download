;/*FB_PKG_DELIM*/

__d("PolarisPostsGridItemStatsOverlayContainer.react",["PolarisPostsGridItemStatsOverlay.react","PolarisReactRedux.react","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(9),e=a.id;b[0]!==e?(a=function(a){return e?d("polarisPostSelectors").getPostById(a,e):null},b[0]=e,b[1]=a):a=b[1];a=d("PolarisReactRedux.react").useSelector(a);if(!a)return null;var f;b[2]!==a.commentsDisabled||b[3]!==a.isVideo||b[4]!==a.numComments||b[5]!==a.numPreviewLikes||b[6]!==a.productType||b[7]!==a.videoViews?(f=j.jsx(c("PolarisPostsGridItemStatsOverlay.react"),{commentsDisabled:a.commentsDisabled,isVideo:a.isVideo,numComments:a.numComments,numPreviewLikes:a.numPreviewLikes,productType:a.productType,videoViews:a.videoViews}),b[2]=a.commentsDisabled,b[3]=a.isVideo,b[4]=a.numComments,b[5]=a.numPreviewLikes,b[6]=a.productType,b[7]=a.videoViews,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("PolarisPostsGridItemOptionalOverlay.react",["PolarisConfig","PolarisPostsGridItemOverlay.react","PolarisPostsGridItemStatsOverlayContainer.react","PolarisShouldHideLikeCountsWithControls","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),e=a.isFocused,f=a.post;a=a.shouldShowStats;var g=f.numPreviewLikes,h=f.owner;h=h!==void 0&&h.id===d("PolarisConfig").getViewerId();var k=c("usePolarisViewer")();if(!e)return null;if(g==null)return null;e=g===-1||d("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls(k==null?void 0:k.hideLikeAndViewCounts,f.likeAndViewCountsDisabled,h);if(e)return null;b[0]!==a||b[1]!==f?(g=a?j.jsx(c("PolarisPostsGridItemStatsOverlayContainer.react"),{id:f.id}):j.jsx(c("PolarisPostsGridItemOverlay.react"),{}),b[0]=a,b[1]=f,b[2]=g):g=b[2];return g}g["default"]=a}),98);
__d("PolarisPostsGridItem.react",["fbt","IGDSText.react","PolarisDynamicExploreMediaHelpers","PolarisExploreLogger","PolarisFastLink.react","PolarisInstagramMediaOverlayFalcoEvent","PolarisLinkBuilder","PolarisOrganicThumbnailImpression","PolarisPhoto.react","PolarisPostsGridItemMediaIndicator.react","PolarisPostsGridItemOptionalOverlay.react","PolarisReactRedux.react","PolarisSensitivityOverlay.react","PolarisUA","PolarisViewpointReact.react","isStringNullOrEmpty","nullthrows","polarisGetPostFromGraphMediaInterface","polarisMediaOverlayInfoUtils","polarisPostSelectors","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useState,n=b.c,o={root:{display:"x1lliihq",position:"x1n2onr6",width:"xh8yej3",":active_opacity":"x4gyw5p",$$css:!0}};function p(a,b){var c=b||{},e=c.mediaOverlayInfo;d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.buildPayloadForLog({containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").PolarisInstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(a),customAction:"go_to_post",customSourceOfAction:"media_grid",entityID:b.id,event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,overlayLayout:d("polarisMediaOverlayInfoUtils").getMediaOverlayLayout(e),overlayType:d("polarisMediaOverlayInfoUtils").getMediaOverlayType(e)})})}var q=h._("__JHASH__0C3tbV4wRe8__JHASH__");function r(a){var b=n(18),e=a.analyticsContext;a=a.post;var f,g,h,i,j,l,m,o;if(b[0]!==a||b[1]!==e){o=Symbol["for"]("react.early_return_sentinel");bb0:{var p=d("polarisGetPostFromGraphMediaInterface").getPostOrSidecarItemForSensitivityOverlay(a);if(p==null){o=null;break bb0}var q=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPostOrSidecarItem(p),r=p.id,s=p.isVideo,t=p.mediaPreview,u=p.owner;m=t;t=p===a&&(a==null?void 0:a.isSidecar)===!0;f=c("PolarisSensitivityOverlay.react");g=e;h=s!==!0&&!t;i=r;j=q;l=c("nullthrows")(u)}b[0]=a;b[1]=e;b[2]=f;b[3]=g;b[4]=h;b[5]=i;b[6]=j;b[7]=l;b[8]=m;b[9]=o}else f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],l=b[7],m=b[8],o=b[9];if(o!==Symbol["for"]("react.early_return_sentinel"))return o;b[10]!==f||b[11]!==g||b[12]!==h||b[13]!==i||b[14]!==j||b[15]!==l.id||b[16]!==m?(p=k.jsx(f,{analyticsContext:g,isPhoto:h,mediaId:i,mediaOverlayCoverInfo:j,ownerId:l.id,previewData:m,variant:"grid"}),b[10]=f,b[11]=g,b[12]=h,b[13]=i,b[14]=j,b[15]=l.id,b[16]=m,b[17]=p):p=b[17];return p}function s(a){var b=n(3),d=a.analyticsContext;a=a.caption;if(d==="profilePage"){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="x1s85apg",b[0]=d):d=b[0];b[1]!==a?(d=k.jsx("div",{className:d,children:k.jsx(c("IGDSText.react").Footnote,{elementType:"h2",maxLines:1,zeroMargin:!0,children:a})}),b[1]=a,b[2]=d):d=b[2];return d}return null}function a(a){var b=n(58),e=a.analyticsContext,f=a.id,g=a.isVisible,h=a.mediaLinkBuilder,j=a.onClick,t=a.onImpression,u=a.onMediaRendered,v=a.profileUser,w=a.shouldSpawnModals,x=a.xstyle,y=a.loggingData;a=h===void 0?d("PolarisLinkBuilder").buildMediaLink:h;b[0]!==f?(h=function(a){return d("polarisPostSelectors").getPostById(a,f)},b[0]=f,b[1]=h):h=b[1];var z=d("PolarisReactRedux.react").useSelector(h),A=z.accessibilityCaption,B=z.caption;h=z.code;var C=z.felixProfileGridCrop,D=z.hasUpcomingEvent,E=z.isSidecar,F=z.isVideo,G=z.pinnedForUsers,H=z.src,I=z.thumbnailResources,J=z.thumbnailSrc,K=m(!1),L=K[0],M=K[1];K=m(!1);var N=K[0],O=K[1],P;b[2]!==t||b[3]!==g||b[4]!==z?(K=function(){t&&g&&t(z)},P=[t,g,z],b[2]=t,b[3]=g,b[4]=z,b[5]=K,b[6]=P):(K=b[5],P=b[6]);l(K,P);b[7]!==u||b[8]!==f?(K=function(a,b){u&&u(f,b)},b[7]=u,b[8]=f,b[9]=K):K=b[9];var Q=K;b[10]!==e||b[11]!==j||b[12]!==z||b[13]!==y?(P=function(a,b){b!=null&&p(e,b),j&&j(a,z,y),O(!1)},b[10]=e,b[11]=j,b[12]=z,b[13]=y,b[14]=P):P=b[14];var R=P;b[15]!==h||b[16]!==a||b[17]!==F?(K=a(c("nullthrows")(h),F),b[15]=h,b[16]=a,b[17]=F,b[18]=K):K=b[18];var S=K;b[19]!==F||b[20]!==z?(P=F===!0&&d("polarisGetPostFromGraphMediaInterface").isClipsPost(z),b[19]=F,b[20]=z,b[21]=P):P=b[21];var T=P;b[22]!==z?(h=d("polarisGetPostFromGraphMediaInterface").getPostOrSidecarItemForSensitivityOverlay(z),b[22]=z,b[23]=h):h=b[23];var U=h;a=(y==null?void 0:y.displayVariant)||"BASIC";b[24]!==a||b[25]!==z||b[26]!==e||b[27]!==y?(K=d("PolarisOrganicThumbnailImpression").makeThumbnailImpressionAction(babelHelpers["extends"]({analyticsContext:e,gridItemSize:d("PolarisDynamicExploreMediaHelpers").GRID_ITEM_SIZE.ONE_BY_ONE,itemType:d("PolarisExploreLogger").getDiscoverGridItemType(a),mediaType:d("polarisGetPostFromGraphMediaInterface").getPostMediaType(z),postId:z.id},y)),b[24]=a,b[25]=z,b[26]=e,b[27]=y,b[28]=K):K=b[28];b[29]!==K?(P=[K],b[29]=K,b[30]=P):P=b[30];h=P;b[31]!==x||b[32]!==U||b[33]!==S||b[34]!==R||b[35]!==w||b[36]!==e||b[37]!==z||b[38]!==A||b[39]!==B||b[40]!==Q||b[41]!==C||b[42]!==J||b[43]!==H||b[44]!==I||b[45]!==D||b[46]!==T||b[47]!==G||b[48]!==v||b[49]!==E||b[50]!==F||b[51]!==N||b[52]!==L?(a=function(a){return k.jsxs("div",{className:(i||(i=c("stylex")))(o.root,x),"data-testid":void 0,ref:a,children:[k.jsxs(c("PolarisFastLink.react"),{"aria-label":U!=null?q:void 0,href:S,onBlur:function(){return O(!1)},onClick:function(a){return R(a,U)},onFocus:function(){return O(!0)},onMouseEnter:function(){return M(!0)},onMouseLeave:function(){return M(!1)},shouldOpenModal:w===!0,children:[U!=null?k.jsx(r,{analyticsContext:e,post:z}):k.jsx(c("PolarisPhoto.react"),{accessibilityCaption:A,caption:B,ignoreSrcSet:!0,onPhotoRendered:Q,profileGridCrop:C,rich:!0,src:c("nullthrows")(c("isStringNullOrEmpty")(J)?H:J),srcSet:I}),U==null&&k.jsx(c("PolarisPostsGridItemMediaIndicator.react"),{hasUpcomingEvent:D===!0,isClipsVideo:T,isPinnedForThisUser:(G||[]).map(function(a){return a.id}).includes(v==null?void 0:v.id),isSharedToCloseFriends:z.audience==="MediaAudience.BESTIES",isSidecar:E===!0,isVideo:F===!0}),k.jsx(c("PolarisPostsGridItemOptionalOverlay.react"),{isFocused:!d("PolarisUA").isMobile()&&(N||L),post:z,shouldShowStats:U==null})]}),k.jsx(s,{analyticsContext:e,caption:B})]})},b[31]=x,b[32]=U,b[33]=S,b[34]=R,b[35]=w,b[36]=e,b[37]=z,b[38]=A,b[39]=B,b[40]=Q,b[41]=C,b[42]=J,b[43]=H,b[44]=I,b[45]=D,b[46]=T,b[47]=G,b[48]=v,b[49]=E,b[50]=F,b[51]=N,b[52]=L,b[53]=a):a=b[53];b[54]!==h||b[55]!==z.id||b[56]!==a?(K=k.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:h,id:z.id,children:a}),b[54]=h,b[55]=z.id,b[56]=a,b[57]=K):K=b[57];return K}g["default"]=a}),226);
__d("PolarisPPRLoggedPostsGridItem",["PolarisPostsGridItem.react","polarisWithPPRLogging"],(function(a,b,c,d,e,f,g){"use strict";a=c("polarisWithPPRLogging")(c("PolarisPostsGridItem.react"));g["default"]=a}),98);
__d("PolarisVirtualPostsGrid.react",["IGDSSpinner.react","PolarisLoggedOutLoginConstants","PolarisPPRLoggedPostsGridItem","PolarisPostsGridQEHelpers","PolarisVirtualPostsGridConstants","PolarisVirtualizedWithScrollLogging.react","polarisLogAction","react","shallowEqual","stylex","usePolarisSelector","usePrevious","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState,o={item:{marginEnd:"x2pgyrj x56m6dy x1ntc13c xn45foy x1upln17",$$css:!0},item4px:{marginEnd:"x2pgyrj x56m6dy x1ntc13c xn45foy x9i3mqj",$$css:!0},row:{marginBottom:"xzboxd6 x11ulueq x1f01sob xwq5r7b x1rqjbyr",$$css:!0},row4px:{marginBottom:"xzboxd6 x11ulueq x1f01sob xwq5r7b xcghwft",$$css:!0}},p=4,q=8,r=[],s=[],t=0;function a(a){var b=a.PostGridItem,e=a.allowSampledScrollLogging;e=e===void 0?!1:e;var f=a.hasNextPage,g=a.initialRowsRenderCount;g=g===void 0?p:g;var i=a.isFetching,u=a.onNextPage,v=a.overscanRowsCount;v=v===void 0?q:v;var w=a.postIds,x=w===void 0?r:w;w=a.posts;var y=w===void 0?s:w;w=a.postsPerRow;w=w===void 0?3:w;var z=a.shouldSpawnModals,A=a.sizeCache,B=a.visibleCount,C=a.analyticsContext,D=a.loggingData,E=a.mediaLinkBuilder,F=a.onClick,G=a.onImpression,H=a.profileUser,I=m(null);a=n(0);var J=a[0],K=a[1],L=c("usePrevious")({hasNextPage:f,postIds:x}),M=k(function(){return t++},[]);a=c("usePolarisSelector")(function(a){return a.navigation});a=a.profilePostsLimitLoginModalClosedCount;l(function(){K(M())},[M]);var N=function(a){a=a.numScreensFromEnd;f&&!i&&u&&(a<d("PolarisVirtualPostsGridConstants").NEXT_PAGE_THRESHOLD&&(c("polarisLogAction")("loadMoreScroll"),u()))},O=d("PolarisPostsGridQEHelpers").getMarginForPostsGridItems(),P=function(a){var d=a.index,e=a.isVisible;a.visibleIndex;a=babelHelpers.objectWithoutPropertiesLoose(a,["index","isVisible","visibleIndex"]);var f=y[d];f=f?f.id:x[d];return b?j.jsx(b,{analyticsContext:C,className:(h||(h=c("stylex")))(O===28&&o.item,O===4&&o.item4px),id:f,isVisible:e,loggingData:babelHelpers["extends"]({},a,D),mediaLinkBuilder:E,onClick:F,onImpression:G,profileUser:H,shouldSpawnModals:z},f):j.jsx(c("PolarisPPRLoggedPostsGridItem"),{analyticsContext:C,id:f,isGridView:!0,isVisible:e,loggingData:babelHelpers["extends"]({},a,D),mediaLinkBuilder:E,onClick:F,onImpression:G,profileUser:H,shouldSpawnModals:z,xstyle:O===28?o.item:O===4?o.item4px:null},f)};l(function(){var a;if(L==null)return;a=(a=L)!=null?a:{};var b=a.hasNextPage;a=a.postIds;var d=I.current;d&&!c("shallowEqual")(a,x)&&d.forceUpdate();f!==b&&u&&u()},[f,u,x,L]);l(function(){return function(){c("vc-tracker").getCurrentVCTraces().forEach(function(a){a.unlock("VirtualPostsGrid_isFetching_"+J)})}},[J]);i?c("vc-tracker").getCurrentVCTraces().forEach(function(a){a.lock("VirtualPostsGrid_isFetching_"+J)}):c("vc-tracker").getCurrentVCTraces().forEach(function(a){a.unlock("VirtualPostsGrid_isFetching_"+J)});return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisVirtualizedWithScrollLogging.react").IGVirtualGridWithLogging,{allowSampledScrollLogging:e,analyticsContext:C,estimatedItemSize:d("PolarisVirtualPostsGridConstants").POSTS_ROW_ESTIMATED_HEIGHT,initialRenderCount:g,itemCount:B,itemsPerRow:w,onInitialize:function(a){a=a.numScreensFromEnd;a<0&&N({numScreensFromEnd:a})},onScroll:N,overscanCount:v,ref:I,renderer:P,rendererPlaceholder:function(a){return j.jsx("div",{className:(h||(h=c("stylex")))(O===28&&o.item,O===4&&o.item4px)},a)},rowClassName:(h||(h=c("stylex")))(O===28&&o.row,O===4&&o.row4px),sizeCache:A}),d("PolarisLoggedOutLoginConstants").dismissibleContentWallsHasNextPage(f,a)&&j.jsx("div",{className:"x1qjc9v5 x9f619 x78zum5 xdt5ytf x2lah0s xsdox4t x1tfhste x11i5rnm xat24cr x1mh8g0r x1n2onr6 x11njtxf",children:j.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);